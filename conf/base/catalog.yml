# ******************************
# Data Ingestion Catalog
# ******************************

raw_data:
  type: pandas.CSVDataset
  filepath: "data/01_raw/diabetic_data.csv"
  load_args:
    sep: ','
    index_col: 'encounter_id'


# ******************************
# Data Testing Catalog
# ******************************

validated_data:
  type: pandas.CSVDataset
  filepath: "data/02_valid/diabetic_data_validated.csv"


# ******************************
# Data Splitting Catalog
# ******************************

X_train:
  type: pandas.CSVDataset
  filepath: "data/03_split/X_train.csv"

X_val:
  type: pandas.CSVDataset
  filepath: "data/03_split/X_val.csv"

X_test:
  type: pandas.CSVDataset
  filepath: "data/03_split/X_test.csv"

y_train:
  type: pandas.CSVDataset
  filepath: "data/03_split/y_train.csv"

y_val:
  type: pandas.CSVDataset
  filepath: "data/03_split/y_val.csv"

y_test:
  type: pandas.CSVDataset
  filepath: "data/03_split/y_test.csv"


# ******************************
# Data Cleaning Catalog
# ******************************

X_train_cleaned:
  type: pandas.CSVDataset
  filepath: "data/04_clean/X_train_cleaned.csv"

X_val_cleaned:
  type: pandas.CSVDataset
  filepath: "data/04_clean/X_val_cleaned.csv"

X_test_cleaned:
  type: pandas.CSVDataset
  filepath: "data/04_clean/X_test_cleaned.csv"

y_train_cleaned:
  type: pandas.CSVDataset
  filepath: "data/04_clean/y_train_cleaned.csv"

y_val_cleaned:
  type: pandas.CSVDataset
  filepath: "data/04_clean/y_val_cleaned.csv"

y_test_cleaned:
  type: pandas.CSVDataset
  filepath: "data/04_clean/y_test_cleaned.csv"


# ******************************
# Feature Engineering Catalog
# ******************************

X_train_featurized:
  type: pandas.CSVDataset
  filepath: "data/05_feature/X_train_featurized.csv"

X_val_featurized:
  type: pandas.CSVDataset
  filepath: "data/05_feature/X_val_featurized.csv"

X_test_featurized:
  type: pandas.CSVDataset
  filepath: "data/05_feature/X_test_featurized.csv"


# ******************************
# Feature Selection Catalog
# ******************************

selected_features: 
  type: pickle.PickleDataset
  filepath: "data/06_model_input/selected_features.pkl"

X_train_selected:
  type: pandas.CSVDataset
  filepath: "data/06_model_input/X_train_selected.csv"

X_val_selected:
  type: pandas.CSVDataset
  filepath: "data/06_model_input/X_val_selected.csv"

X_test_selected:
  type: pandas.CSVDataset
  filepath: "data/06_model_input/X_test_selected.csv"


# ******************************
# Model Selection Catalog
# ******************************

# MlflowModelTrackingDataset: to load and save the model from the mlflow artifact store.
# MlflowModelLocalFileSystemDataset: to load and save the model from the local file system.
# MlflowArtifactDataset: to save your model both locally and remotely within the same run.
# check this out: https://kedro-mlflow.readthedocs.io/en/stable/source/04_experimentation_tracking/04_version_models.html

champion_model:
  type: kedro_mlflow.io.artifacts.MlflowArtifactDataset
  dataset:
    type: kedro_mlflow.io.models.MlflowModelLocalFileSystemDataset
    flavor: mlflow.sklearn
    filepath: "data/08_models/champion_model"
